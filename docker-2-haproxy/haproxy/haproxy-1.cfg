global
  maxconn 40000
  log stdout format raw local0

defaults
  mode tcp
  log global
  option tcplog
  timeout connect 5s
  timeout client  5m
  timeout server  5m
  timeout check   3s

frontend es_https
  bind *:9200
  default_backend es_coord_tls

backend es_coord_tls
  balance roundrobin
  option tcp-check
  tcp-check connect port 9200
  default-server inter 2s fall 3 rise 2
  server coord1 coord-1:9200 check
  server coord2 coord-2:9200 check

listen stats
  bind *:8404
  mode http
  stats enable
  stats uri /stats
  stats refresh 5s
  stats auth admin:HaProxySystem@123
